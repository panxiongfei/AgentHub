# AgentHub é¡¹ç›®å¼€å‘è§„åˆ™ v2.1.3

## ğŸ“‹ æ–‡æ¡£çŠ¶æ€
- **ç‰ˆæœ¬**: v2.1.3
- **æœ€åæ›´æ–°**: 2025-06-02  
- **å½“å‰é‡Œç¨‹ç¢‘**: âœ… v2.1.0 åŸºç¡€è®¾æ–½å®Œæˆï¼ŒğŸš€ v2.2.0 å¤šå¹³å°é›†æˆä¼˜åŒ–ä¸­

## é¡¹ç›®æ¦‚è¿°
AgentHub æ˜¯ä¸€ä¸ªä¼ä¸šçº§å¤šå¹³å° AI ä»£ç†æœåŠ¡è‡ªåŠ¨åŒ–å¹³å°ï¼Œä½œä¸ºå¤šä¸ª AI å¹³å°çš„ç»Ÿä¸€å…¥å£å’Œè‡ªåŠ¨åŒ–æ¢çº½ã€‚é¡¹ç›®å·²å®Œæˆå®Œæ•´çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼ˆVue.js + FastAPIï¼‰ã€AIæ¨¡å‹é›†æˆï¼ˆGoogle Gemini 2.5 Flashï¼‰ã€æ™ºèƒ½æµè§ˆå™¨å¼•æ“ã€å›å½’æµ‹è¯•ç³»ç»Ÿå’Œå®‰å…¨çš„æ–‡ä»¶éš”ç¦»æœºåˆ¶ã€‚å½“å‰é‡ç‚¹æ˜¯å¤šå¹³å°é›†æˆä¼˜åŒ–å’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œå–„ã€‚

**å½“å‰ç‰ˆæœ¬**: v2.1.3 âœ… (AIå¢å¼ºç³»ç»Ÿå®Œæˆ)  
**ä¸»è¦ç‰¹æ€§**: AIå¢å¼ºæµè§ˆå™¨å¼•æ“ã€å¤šæ¨¡å‹æ”¯æŒã€å›å½’æµ‹è¯•ç³»ç»Ÿã€å®‰å…¨çš„å¼€å‘å·¥ä½œæµã€å®Œæ•´çš„æ–‡ä»¶éš”ç¦»æœºåˆ¶

## ğŸ¯ å½“å‰å¼€å‘çŠ¶æ€

### âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½ (v2.1.3)
- **ğŸ§  AIæ¨¡å‹é›†æˆç³»ç»Ÿ**: Google Gemini 2.5 Flash + å¤šæä¾›å•†æ¶æ„ï¼Œç»Ÿä¸€æ¨¡å‹å®¢æˆ·ç«¯ç®¡ç†
- **ğŸ¤– AIå¢å¼ºæµè§ˆå™¨å¼•æ“**: æ™ºèƒ½é¡µé¢åˆ†æã€å…ƒç´ å®šä½ã€æ“ä½œç­–ç•¥ç”Ÿæˆ
- **ğŸ“ AIæ–‡ä»¶å¤„ç†ç³»ç»Ÿ**: å¤šæ ¼å¼æ–‡ä»¶æ™ºèƒ½åˆ†æã€é¢„è§ˆç”Ÿæˆã€å†…å®¹æ€»ç»“
- **ğŸ”§ å›å½’æµ‹è¯•ç³»ç»Ÿ**: å…¨é¢è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ŒæˆåŠŸç‡ç›‘æ§ï¼Œå®šæ—¶å¥åº·æ£€æŸ¥
- **ğŸ—ï¸ å®Œæ•´åŸºç¡€è®¾æ–½**: å‰åç«¯åˆ†ç¦»æ¶æ„ã€Webç®¡ç†ç•Œé¢ã€APIæœåŠ¡
- **ğŸ”’ å®‰å…¨æ–‡ä»¶éš”ç¦»**: æœ¬åœ°å¼€å‘ä¸GitHubå‘å¸ƒå®Œå…¨éš”ç¦»ï¼Œæ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- **ğŸ“Š å¤šå¹³å°å†å²ä»»åŠ¡ç®¡ç†**: 37ä¸ªå†å²ä»»åŠ¡æ•°æ®ï¼Œæ”¯æŒManusã€Skyworkã€Coze Spaceç­‰å¹³å°

### ğŸš€ å½“å‰å¼€å‘é‡ç‚¹ (v2.2.0)
- **å¤šå¹³å°é›†æˆä¼˜åŒ–**: åŸºäºå·²æœ‰AIèƒ½åŠ›æ·±åŒ–Manusã€Skyworkå¹³å°é›†æˆ
- **å‰ç«¯æœåŠ¡ç¨³å®šæ€§**: è§£å†³å‰ç«¯æœåŠ¡å¯åŠ¨å’ŒæŒç»­è¿è¡Œé—®é¢˜
- **Chromeè¿æ¥ä¼˜åŒ–**: å¢å¼ºæµè§ˆå™¨ä¼šè¯ç®¡ç†å’Œå¤šå®ä¾‹æ”¯æŒ
- **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**: DockeråŒ–éƒ¨ç½²ã€ç›‘æ§å‘Šè­¦ã€æ€§èƒ½ä¼˜åŒ–

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶ âœ…
- **å‰ç«¯æ¡†æ¶**: Vue.js 3 + Element Plus + Vite + Pinia
- **åç«¯æ¡†æ¶**: FastAPI + SQLAlchemy + Structlog + APScheduler
- **ğŸ§  AIæ¨¡å‹é›†æˆ**: Google Gemini 2.5 Flash (ä¸»è¦) + OpenAI/Anthropicæ”¯æŒ
- **ğŸ¤– æµè§ˆå™¨è‡ªåŠ¨åŒ–**: Playwright + Chrome DevTools Protocol + AIå¢å¼ºå¼•æ“
- **ğŸ”§ æµ‹è¯•æ¡†æ¶**: è‡ªå®šä¹‰å›å½’æµ‹è¯•ç³»ç»Ÿ + pytest
- **æ•°æ®å­˜å‚¨**: SQLite + SQLAlchemy + æ–‡ä»¶ç³»ç»Ÿ
- **é…ç½®ç®¡ç†**: Pydantic Settings + YAML + ç¯å¢ƒå˜é‡
- **æ—¥å¿—ç³»ç»Ÿ**: structlog (ç»“æ„åŒ–æ—¥å¿—)
- **å®‰å…¨æœºåˆ¶**: cryptography + æ–‡ä»¶éš”ç¦» + APIå¯†é’¥ä¿æŠ¤

### ğŸ§  AIå¢å¼ºæŠ€æœ¯æ ˆ (å·²å®Œæˆ)
- **ç»Ÿä¸€æ¨¡å‹å®¢æˆ·ç«¯**: ModelClientManager æ”¯æŒå¤šæä¾›å•†åˆ‡æ¢
- **æ™ºèƒ½é¡µé¢åˆ†æ**: AIè‡ªåŠ¨è¯†åˆ«é¡µé¢ç»“æ„å’Œäº¤äº’å…ƒç´ 
- **æ™ºèƒ½å…ƒç´ å®šä½**: AIç”Ÿæˆæœ€ä½³é€‰æ‹©å™¨ç­–ç•¥ï¼Œç½®ä¿¡åº¦è¯„åˆ†
- **æ™ºèƒ½æ–‡ä»¶å¤„ç†**: å¤šæ ¼å¼æ–‡ä»¶åˆ†æã€é¢„è§ˆç”Ÿæˆã€å†…å®¹æ€»ç»“
- **æ“ä½œç­–ç•¥ç”Ÿæˆ**: AIé©±åŠ¨çš„æœ€ä¼˜æµè§ˆå™¨æ“ä½œæµç¨‹
- **å®¹é”™å’Œé™çº§**: JSONè§£æå¤±è´¥è‡ªåŠ¨é™çº§ï¼Œç½‘ç»œå¼‚å¸¸æ¢å¤

### ğŸ”§ å›å½’æµ‹è¯•æŠ€æœ¯æ ˆ (å·²å®Œæˆ)
- **å…¨é¢æµ‹è¯•è¦†ç›–**: åå°æœåŠ¡7é¡¹ + å‰å°åº”ç”¨4é¡¹ï¼Œæ€»è®¡11é¡¹æ ¸å¿ƒæµ‹è¯•
- **è‡ªåŠ¨æ‰©å±•æœºåˆ¶**: æ–°åŠŸèƒ½è‡ªåŠ¨æ·»åŠ å¯¹åº”æµ‹è¯•é¡¹
- **è¯¦ç»†æŠ¥å‘Šç³»ç»Ÿ**: JSONæ ¼å¼æŠ¥å‘Šï¼ŒæˆåŠŸç‡ç»Ÿè®¡ï¼Œå¤±è´¥åŸå› åˆ†æ
- **å®šæ—¶æ‰§è¡Œ**: æ¯å¤©8ç‚¹å’Œ20ç‚¹è‡ªåŠ¨è¿è¡Œ
- **CI/CDé›†æˆ**: Gitæ¨é€ã€éƒ¨ç½²ã€æ‰‹åŠ¨è§¦å‘ç­‰åœºæ™¯æ”¯æŒ

### ğŸ”’ å®‰å…¨ä¸éš”ç¦»æœºåˆ¶ (å·²å®Œæˆ)
- **æ–‡ä»¶åˆ†ç±»ç³»ç»Ÿ**: GitHubå…¬å¼€(.sample) vs æœ¬åœ°ç§æœ‰(.local, .env)
- **è‡ªåŠ¨ç¯å¢ƒè®¾ç½®**: scripts/dev_env_setup.sh ä¸€é”®å¼€å‘ç¯å¢ƒ
- **å®‰å…¨å‘å¸ƒæµç¨‹**: scripts/prepare_release.sh è‡ªåŠ¨å®‰å…¨æ‰«æ
- **APIå¯†é’¥ä¿æŠ¤**: å¤šå±‚é˜²æŠ¤ï¼Œè‡ªåŠ¨æ³„éœ²æ£€æµ‹
- **é…ç½®æ¨¡æ¿åŒ–**: ç¤ºä¾‹é…ç½®ä¸çœŸå®é…ç½®å®Œå…¨åˆ†ç¦»

## æ ¸å¿ƒæ¶æ„åŸåˆ™

### 1. ğŸ§  AIä¼˜å…ˆæ¶æ„ (å·²å®ç°)
- **AIé©±åŠ¨å†³ç­–**: é¡µé¢åˆ†æã€å…ƒç´ å®šä½ã€æ“ä½œç­–ç•¥å‡ç”±AIç”Ÿæˆ
- **å¤šæ¨¡å‹æ”¯æŒ**: ç»Ÿä¸€æ¥å£æ”¯æŒGoogle Geminiã€OpenAIã€Anthropicç­‰
- **æ™ºèƒ½å®¹é”™**: AIåˆ†æå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•
- **æŒç»­å­¦ä¹ **: æ“ä½œç»“æœåé¦ˆç”¨äºä¼˜åŒ–AIå†³ç­–
- **å¤šæ¨¡æ€åˆ†æ**: æ”¯æŒæ–‡æœ¬ã€å›¾åƒçš„ç»¼åˆåˆ†æ

### 2. ğŸ”§ æµ‹è¯•é©±åŠ¨å¼€å‘ (å·²å®ç°)
- **å›å½’æµ‹è¯•ä¼˜å…ˆ**: æ¯æ¬¡ä»£ç å˜æ›´å¿…é¡»é€šè¿‡å›å½’æµ‹è¯•
- **è‡ªåŠ¨æ‰©å±•è¦†ç›–**: æ–°åŠŸèƒ½å¼€å‘è‡ªåŠ¨å¢åŠ æµ‹è¯•é¡¹
- **æŒç»­ç›‘æ§**: å®šæ—¶å¥åº·æ£€æŸ¥ç¡®ä¿ç³»ç»Ÿç¨³å®š
- **è¯¦ç»†åé¦ˆ**: å¤±è´¥åˆ†æå’ŒæˆåŠŸç‡ç»Ÿè®¡
- **è´¨é‡é—¨ç¦**: æµ‹è¯•æˆåŠŸç‡ä¸ä½äº70%æ‰å¯å‘å¸ƒ

### 3. ğŸ”’ å®‰å…¨éš”ç¦»è®¾è®¡ (å·²å®ç°)
- **å¼€å‘ä¸å‘å¸ƒåˆ†ç¦»**: æœ¬åœ°å¼€å‘å®Œå…¨è‡ªç”±ï¼ŒGitHubå‘å¸ƒè‡ªåŠ¨å®‰å…¨
- **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**: å¤šå±‚é˜²æŠ¤ç¡®ä¿APIå¯†é’¥å’Œé…ç½®å®‰å…¨
- **è‡ªåŠ¨å®‰å…¨æ‰«æ**: å‘å¸ƒå‰è‡ªåŠ¨æ£€æµ‹æ½œåœ¨å®‰å…¨é£é™©
- **é…ç½®æ¨¡æ¿åŒ–**: ç¤ºä¾‹é…ç½®æŒ‡å¯¼ï¼ŒçœŸå®é…ç½®ä¿æŠ¤
- **å®¡è®¡è¿½è¸ª**: å®Œæ•´çš„æ“ä½œå†å²å’Œå®‰å…¨æ—¥å¿—

### 4. ğŸ“Š æ•°æ®å®Œæ•´æ€§ (å·²å®ç°)
- **å…¨é‡æ•°æ®å¤‡ä»½**: æ–‡æœ¬ã€æˆªå›¾ã€HTMLã€é™„ä»¶ã€å…ƒæ•°æ®å®Œæ•´ä¿å­˜
- **AIå¢å¼ºåˆ†æ**: è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶é¢„è§ˆã€æ‘˜è¦ã€åˆ†ææŠ¥å‘Š
- **å†å²ä»»åŠ¡ç®¡ç†**: 37ä¸ªè·¨å¹³å°å†å²ä»»åŠ¡æ•°æ®å®Œæ•´ç®¡ç†
- **ç»“æ„åŒ–å­˜å‚¨**: æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼å’Œç›®å½•ç»“æ„
- **æ™ºèƒ½æœç´¢**: AIé©±åŠ¨çš„å†…å®¹æœç´¢å’Œå…³è”åˆ†æ

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼ âœ…
- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- ä½¿ç”¨ black è¿›è¡Œä»£ç æ ¼å¼åŒ–  
- ä½¿ç”¨ type hints è¿›è¡Œç±»å‹æ ‡æ³¨
- å‡½æ•°å’Œç±»å¿…é¡»æœ‰è¯¦ç»†çš„ docstringï¼ˆGoogleé£æ ¼ï¼‰
- ä½¿ç”¨ f-string è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼åŒ–
- å¼‚æ­¥å‡½æ•°ä¼˜å…ˆä½¿ç”¨ async/await

### å‘½åè§„èŒƒ âœ…
- æ–‡ä»¶å: snake_case.py (å¦‚ `model_client.py`, `ai_browser_engine.py`)
- ç±»å: PascalCase (å¦‚ `ModelClientManager`, `AIBrowserEngine`)
- å‡½æ•°å/å˜é‡å: snake_case (å¦‚ `analyze_page_structure`, `generate_operation_strategy`)
- å¸¸é‡: UPPER_CASE (å¦‚ `DEFAULT_MODEL_PROVIDER`, `MAX_RETRY_ATTEMPTS`)
- ç§æœ‰æ–¹æ³•: _method_name (å¦‚ `_process_ai_response`, `_validate_operation_result`)

### ğŸ§  AIé›†æˆå¼€å‘è§„èŒƒ

#### ç»Ÿä¸€æ¨¡å‹å®¢æˆ·ç«¯ä½¿ç”¨
```python
# æ ‡å‡†AIæ¨¡å‹è°ƒç”¨
from app.core.model_client import get_model_client_manager

async def ai_enhanced_function():
    """AIå¢å¼ºåŠŸèƒ½ç¤ºä¾‹"""
    model_manager = get_model_client_manager()
    
    try:
        response = await model_manager.analyze_text(
            content="éœ€è¦åˆ†æçš„å†…å®¹",
            task_type="é¡µé¢åˆ†æ",
            format="json"
        )
        
        # å¤„ç†AIå“åº”
        if response.success:
            return response.data
        else:
            # é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•
            return fallback_analysis()
            
    except Exception as e:
        logger.error("AIåˆ†æå¤±è´¥", error=str(e))
        return fallback_analysis()
```

#### AIå¢å¼ºæµè§ˆå™¨æ“ä½œè§„èŒƒ
```python
# AIé©±åŠ¨çš„æµè§ˆå™¨æ“ä½œ
from app.core.browser_engine import AIBrowserEngine

class PlatformAutomator:
    """å¹³å°è‡ªåŠ¨åŒ–åŸºç±»"""
    
    def __init__(self):
        self.ai_engine = AIBrowserEngine()
        self.logger = get_logger(self.__class__.__name__)
    
    async def ai_analyze_and_operate(self, task_description: str):
        """AIåˆ†æé¡µé¢å¹¶æ‰§è¡Œæ“ä½œ"""
        try:
            # 1. AIåˆ†æé¡µé¢ç»“æ„
            page_analysis = await self.ai_engine.analyze_page_structure()
            
            # 2. AIç”Ÿæˆæ“ä½œç­–ç•¥
            strategy = await self.ai_engine.generate_operation_strategy(
                page_analysis, task_description
            )
            
            # 3. æ‰§è¡ŒAIç­–ç•¥
            result = await self.ai_engine.execute_strategy(strategy)
            
            self.logger.info(
                "AIæ“ä½œå®Œæˆ",
                task=task_description,
                success=result.success,
                confidence=result.confidence
            )
            
            return result
            
        except Exception as e:
            self.logger.error("AIæ“ä½œå¤±è´¥", error=str(e))
            raise
```

### ğŸ”§ å›å½’æµ‹è¯•å¼€å‘è§„èŒƒ

#### æ–°åŠŸèƒ½æµ‹è¯•è¦†ç›–è¦æ±‚
```python
# æ–°åŠŸèƒ½å¿…é¡»æ·»åŠ å¯¹åº”çš„å›å½’æµ‹è¯•é¡¹
def test_new_feature():
    """æ–°åŠŸèƒ½å›å½’æµ‹è¯•"""
    try:
        # 1. åŠŸèƒ½å¯ç”¨æ€§æµ‹è¯•
        result = test_feature_availability()
        assert result.success, "åŠŸèƒ½ä¸å¯ç”¨"
        
        # 2. åŸºæœ¬åŠŸèƒ½æµ‹è¯•
        basic_result = test_basic_functionality()
        assert basic_result.success, "åŸºæœ¬åŠŸèƒ½æµ‹è¯•å¤±è´¥"
        
        # 3. AIå¢å¼ºåŠŸèƒ½æµ‹è¯•ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
        if has_ai_enhancement():
            ai_result = test_ai_enhancement()
            assert ai_result.success, "AIå¢å¼ºåŠŸèƒ½æµ‹è¯•å¤±è´¥"
        
        return TestResult(success=True, details="æ–°åŠŸèƒ½æµ‹è¯•é€šè¿‡")
        
    except Exception as e:
        return TestResult(success=False, error=str(e))
```

#### æµ‹è¯•å¤±è´¥å¤„ç†æµç¨‹
1. **ç«‹å³åœæ­¢å¼€å‘**: æµ‹è¯•å¤±è´¥æ—¶ä¸å¾—ç»§ç»­å¼€å‘æ–°åŠŸèƒ½
2. **åˆ†æå¤±è´¥åŸå› **: æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šå’Œæ—¥å¿—
3. **ä¿®å¤æ ¹æœ¬é—®é¢˜**: ä¸ä»…ä¿®å¤ç—‡çŠ¶ï¼Œæ›´è¦è§£å†³æ ¹æœ¬åŸå› 
4. **é‡æ–°æµ‹è¯•éªŒè¯**: ä¿®å¤åå¿…é¡»é‡æ–°è¿è¡Œå®Œæ•´å›å½’æµ‹è¯•
5. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°ç›¸å…³æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹

### ğŸ”’ å®‰å…¨å¼€å‘è§„èŒƒ

#### æ•æ„Ÿä¿¡æ¯å¤„ç†
```python
# æ­£ç¡®çš„æ•æ„Ÿä¿¡æ¯å¤„ç†æ–¹å¼
from app.core.security import mask_sensitive_data

def log_operation(user_data: dict, api_key: str):
    """å®‰å…¨çš„æ—¥å¿—è®°å½•"""
    logger.info(
        "APIè°ƒç”¨å®Œæˆ",
        user_id=mask_sensitive_data(user_data.get("user_id")),
        api_provider=api_key[:8] + "***",  # åªè®°å½•å‰8ä½
        response_size=len(response_data)
    )
```

#### é…ç½®ç®¡ç†è§„èŒƒ
```python
# ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§
from app.config.settings import get_settings

def get_api_key(provider: str) -> str:
    """è·å–APIå¯†é’¥çš„æ ‡å‡†æ–¹å¼"""
    settings = get_settings()
    
    # ä¼˜å…ˆçº§: ç¯å¢ƒå˜é‡ > æœ¬åœ°é…ç½® > é»˜è®¤å€¼
    env_key = f"{provider.upper()}_API_KEY"
    api_key = os.getenv(env_key) or getattr(settings, f"{provider}_api_key", None)
    
    if not api_key:
        raise ConfigurationError(f"æœªé…ç½®{provider}çš„APIå¯†é’¥")
    
    return api_key
```

### é¡¹ç›®ç»“æ„åŸåˆ™ âœ…
```
app/
â”œâ”€â”€ core/                           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ model_client.py            # âœ… AIæ¨¡å‹ç»Ÿä¸€å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ browser_engine.py          # âœ… AIå¢å¼ºæµè§ˆå™¨å¼•æ“
â”‚   â”œâ”€â”€ ai_file_processor.py       # âœ… AIæ–‡ä»¶å¤„ç†å™¨
â”‚   â”œâ”€â”€ chrome_connector.py        # Chromeè¿æ¥æ¨¡å—
â”‚   â”œâ”€â”€ task_executor.py           # ä»»åŠ¡æ‰§è¡Œå™¨
â”‚   â”œâ”€â”€ logger.py                  # âœ… ç»“æ„åŒ–æ—¥å¿—
â”‚   â””â”€â”€ exceptions.py              # âœ… è‡ªå®šä¹‰å¼‚å¸¸
â”œâ”€â”€ platforms/                      # å¹³å°é€‚é…å™¨
â”‚   â”œâ”€â”€ platform_base.py           # âœ… åŸºç±»
â”‚   â”œâ”€â”€ manus.py                   # Manuså¹³å°
â”‚   â”œâ”€â”€ skywork.py                 # Skyworkå¹³å°
â”‚   â”œâ”€â”€ coze_space.py              # âœ… Coze Spaceå¹³å°
â”‚   â””â”€â”€ selectors/                 # å¹³å°é€‰æ‹©å™¨å®šä¹‰
â”œâ”€â”€ scheduler/                      # âœ… ä»»åŠ¡è°ƒåº¦
â”œâ”€â”€ storage/                        # âœ… æ•°æ®å­˜å‚¨
â”œâ”€â”€ config/                         # âœ… é…ç½®ç®¡ç†
â”œâ”€â”€ utils/                          # âœ… å·¥å…·å‡½æ•°
â””â”€â”€ api/                           # âœ… Web API

# æµ‹è¯•å’Œå·¥å…·
regression_test.py                  # âœ… ä¸»å›å½’æµ‹è¯•è„šæœ¬
configs/regression_test_config.yaml # âœ… å›å½’æµ‹è¯•é…ç½®
scripts/                           # âœ… å¼€å‘å’Œéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ dev_env_setup.sh              # âœ… å¼€å‘ç¯å¢ƒè®¾ç½®
â”œâ”€â”€ prepare_release.sh             # âœ… å‘å¸ƒå‡†å¤‡
â””â”€â”€ run_regression_test.sh         # âœ… æµ‹è¯•è¿è¡Œè„šæœ¬
```

### é”™è¯¯å¤„ç†è§„èŒƒ âœ…
- ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ç±»ç»§æ‰¿ä½“ç³»
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•ï¼ˆä½¿ç”¨structlogï¼‰
- AIåˆ†æå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•
- ä¼˜é›…çš„å¼‚å¸¸å¤„ç†å’Œé‡è¯•æœºåˆ¶
- é¿å…è£¸éœ²çš„ except è¯­å¥

### ğŸ§  AIæ“ä½œé”™è¯¯å¤„ç†è§„èŒƒ
```python
# AIå¢å¼ºåŠŸèƒ½çš„é”™è¯¯å¤„ç†
class AIAnalysisError(AgentHubException):
    """AIåˆ†æç›¸å…³å¼‚å¸¸"""
    pass

class ModelClientError(AIAnalysisError):
    """æ¨¡å‹å®¢æˆ·ç«¯å¼‚å¸¸"""
    pass

# AIæ“ä½œé‡è¯•è£…é¥°å™¨
def ai_operation_retry(max_attempts: int = 3, fallback_enabled: bool = True):
    """AIæ“ä½œé‡è¯•è£…é¥°å™¨"""
    def decorator(func):
        async def wrapper(*args, **kwargs):
            last_exception = None
            
            for attempt in range(max_attempts):
                try:
                    return await func(*args, **kwargs)
                except (ModelClientError, json.JSONDecodeError) as e:
                    last_exception = e
                    if attempt < max_attempts - 1:
                        await asyncio.sleep(2 ** attempt)  # æŒ‡æ•°é€€é¿
                        continue
                    break
                except Exception as e:
                    # ä¸å¯é‡è¯•çš„å¼‚å¸¸
                    if fallback_enabled:
                        return await fallback_function(*args, **kwargs)
                    raise e
            
            # æ‰€æœ‰é‡è¯•å¤±è´¥ï¼Œä½¿ç”¨é™çº§æ–¹æ¡ˆ
            if fallback_enabled:
                logger.warning("AIæ“ä½œå¤±è´¥ï¼Œä½¿ç”¨é™çº§æ–¹æ¡ˆ", error=str(last_exception))
                return await fallback_function(*args, **kwargs)
            
            raise last_exception
        
        return wrapper
    return decorator
```

### å®‰å…¨è¦æ±‚ âœ…
- æ•æ„Ÿä¿¡æ¯å¿…é¡»é€šè¿‡ç¯å¢ƒå˜é‡æˆ–åŠ å¯†é…ç½®ç®¡ç†
- API å¯†é’¥é€šè¿‡å¤šå±‚é˜²æŠ¤æœºåˆ¶ä¿æŠ¤
- æ—¥å¿—ä¸­ä¸å¾—è®°å½•æ•æ„Ÿä¿¡æ¯ï¼ˆä½¿ç”¨æ•°æ®è„±æ•ï¼‰
- æ‰€æœ‰å¤–éƒ¨ API è°ƒç”¨ä½¿ç”¨ HTTPS
- æ“ä½œå®¡è®¡å’Œå®Œæ•´çš„å†å²è¿½è¸ª
- å‘å¸ƒå‰è‡ªåŠ¨å®‰å…¨æ‰«æ

### æµ‹è¯•è¦æ±‚ âœ…
- **å›å½’æµ‹è¯•è¦†ç›–ç‡100%**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å¿…é¡»æœ‰å›å½’æµ‹è¯•è¦†ç›–
- **æ–°åŠŸèƒ½åŒæ­¥æµ‹è¯•**: å¼€å‘æ–°åŠŸèƒ½æ—¶å¿…é¡»åŒæ­¥æ·»åŠ æµ‹è¯•é¡¹
- **AIåŠŸèƒ½ä¸“é¡¹æµ‹è¯•**: AIæ¨¡å‹è°ƒç”¨ã€æ™ºèƒ½åˆ†æç­‰åŠŸèƒ½çš„ä¸“é—¨æµ‹è¯•
- **é›†æˆæµ‹è¯•è¦†ç›–**: å‰åç«¯ã€AIæ¨¡å‹ã€æµè§ˆå™¨æ“ä½œçš„é›†æˆæµ‹è¯•
- **æµ‹è¯•æ•°æ®ç®¡ç†**: ä½¿ç”¨37ä¸ªå†å²ä»»åŠ¡æ•°æ®è¿›è¡ŒçœŸå®åœºæ™¯æµ‹è¯•

## ğŸš€ å½“å‰å¼€å‘ä»»åŠ¡ä¼˜å…ˆçº§ (v2.2.0)

### ğŸš¨ é«˜ä¼˜å…ˆçº§ (æœ¬å‘¨å®Œæˆ)
1. **å‰ç«¯æœåŠ¡ç¨³å®šæ€§ä¼˜åŒ–** 
   - è§£å†³å‰ç«¯æœåŠ¡å¯åŠ¨å’Œè¿æ¥é—®é¢˜ï¼ˆå½“å‰æµ‹è¯•æˆåŠŸç‡81.8%ï¼‰
   - ä¼˜åŒ–Viteå¼€å‘æœåŠ¡å™¨é…ç½®å’Œä¾èµ–ç®¡ç†
   - ç¡®ä¿å‰ç«¯æœåŠ¡æŒç»­è¿è¡Œï¼Œè§£å†³ç«¯å£3001è®¿é—®é—®é¢˜

2. **Manuså¹³å°æ·±åº¦é›†æˆ**
   - åˆ©ç”¨ç°æœ‰AIæ¨¡å‹å®¢æˆ·ç«¯å®ç°ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–
   - é›†æˆAIé¡µé¢åˆ†æ + æ™ºèƒ½æ“ä½œ + æ–‡ä»¶å¤„ç†æµç¨‹
   - åŸºäº37ä¸ªå†å²ä»»åŠ¡æ•°æ®ä¼˜åŒ–æ“ä½œç­–ç•¥

3. **Chromeè¿æ¥æ¨¡å—ä¼˜åŒ–**
   - å¢å¼ºæµè§ˆå™¨ä¼šè¯ç®¡ç†å’ŒçŠ¶æ€æ£€æµ‹
   - ä¼˜åŒ–å¤šå®ä¾‹å¹¶å‘å¤„ç†å’Œèµ„æºç®¡ç†
   - æå‡æµè§ˆå™¨è¿æ¥çš„ç¨³å®šæ€§å’Œå¯é æ€§

### ğŸ”¶ ä¸­ä¼˜å…ˆçº§ (ä¸‹å‘¨å®Œæˆ)
4. **å¤šå¹³å°æ‰©å±•**
   - æ·±åŒ–Skyworkå¹³å°é›†æˆï¼Œåˆ©ç”¨ç°æœ‰AIèƒ½åŠ›
   - å®Œå–„Coze Spaceå¹³å°åŠŸèƒ½
   - å®ç°è·¨å¹³å°ä»»åŠ¡å¯¹æ¯”å’Œåˆ†æ

5. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ä¼˜åŒ–**
   - Dockerå®¹å™¨åŒ–éƒ¨ç½²é…ç½®ä¼˜åŒ–
   - ç›‘æ§å‘Šè­¦ç³»ç»Ÿé›†æˆ
   - æ€§èƒ½ä¼˜åŒ–å’Œèµ„æºç®¡ç†

6. **AIåŠŸèƒ½æ·±åŒ–**
   - ä¼˜åŒ–AIæµè§ˆå™¨å¼•æ“æ“ä½œç­–ç•¥ç”Ÿæˆï¼ˆå½“å‰75%æˆåŠŸç‡ï¼‰
   - å¢å¼ºAIæ–‡ä»¶å¤„ç†çš„å¤šæ ¼å¼æ”¯æŒ
   - å®ç°AIé©±åŠ¨çš„æ™ºèƒ½å‘½é¢˜ç”Ÿæˆ

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ (åç»­è¿­ä»£)
7. **ä¼ä¸šçº§åŠŸèƒ½**: ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€å¤šç§Ÿæˆ·æ”¯æŒ
8. **é«˜çº§åˆ†æåŠŸèƒ½**: çŸ¥è¯†å›¾è°±æ„å»ºã€å¤šæ­¥æ¨ç†ã€æ·±åº¦æ´å¯Ÿ
9. **äº‘ç«¯é›†æˆ**: äº‘å­˜å‚¨ã€äº‘è®¡ç®—ã€å¼¹æ€§æ‰©å±•

## æœ€ä½³å®è·µ

### ğŸ§  AIé›†æˆæœ€ä½³å®è·µ
- **æ¨¡å‹é€‰æ‹©**: ä¼˜å…ˆä½¿ç”¨Google Gemini 2.5 Flashï¼Œæ”¯æŒå¤šæä¾›å•†åˆ‡æ¢
- **å®¹é”™å¤„ç†**: AIåˆ†æå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•ï¼Œç¡®ä¿åŠŸèƒ½å¯ç”¨æ€§
- **æ€§èƒ½ä¼˜åŒ–**: åˆç†ä½¿ç”¨ç¼“å­˜ï¼Œé¿å…é‡å¤çš„AIè°ƒç”¨
- **ç»“æœéªŒè¯**: AIåˆ†æç»“æœå¿…é¡»éªŒè¯ï¼Œå…³é”®æ“ä½œéœ€è¦ç½®ä¿¡åº¦è¯„åˆ†
- **æŒç»­æ”¹è¿›**: æ”¶é›†AIæ“ä½œåé¦ˆï¼Œä¼˜åŒ–æç¤ºè¯å’Œç­–ç•¥

### ğŸ”§ å›å½’æµ‹è¯•æœ€ä½³å®è·µ
- **æµ‹è¯•ä¼˜å…ˆ**: æ¯æ¬¡å¼€å‘å‰å…ˆè¿è¡Œå›å½’æµ‹è¯•ï¼Œç¡®ä¿åŸºç¡€åŠŸèƒ½æ­£å¸¸
- **å¢é‡æµ‹è¯•**: æ–°åŠŸèƒ½å¼€å‘æ—¶åŒæ­¥æ·»åŠ å¯¹åº”çš„æµ‹è¯•é¡¹
- **å¿«é€Ÿåé¦ˆ**: æµ‹è¯•å¤±è´¥æ—¶ç«‹å³åœæ­¢å¼€å‘ï¼Œä¼˜å…ˆä¿®å¤é—®é¢˜
- **è¯¦ç»†åˆ†æ**: æŸ¥çœ‹æµ‹è¯•æŠ¥å‘ŠJSONæ–‡ä»¶ï¼Œåˆ†æå¤±è´¥åŸå› å’ŒæˆåŠŸç‡è¶‹åŠ¿
- **å®šæœŸç›‘æ§**: åˆ©ç”¨å®šæ—¶æµ‹è¯•åŠŸèƒ½ï¼ŒæŒç»­ç›‘æ§ç³»ç»Ÿå¥åº·çŠ¶æ€

### å¼‚æ­¥ç¼–ç¨‹ âœ…
- ä¼˜å…ˆä½¿ç”¨ async/await è¯­æ³•
- åˆç†ä½¿ç”¨ asyncio.gather() è¿›è¡Œå¹¶å‘å¤„ç†
- ä½¿ç”¨ asyncio.Semaphore æ§åˆ¶å¹¶å‘æ•°é‡
- é¿å…åœ¨å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨åŒæ­¥é˜»å¡æ“ä½œ
- AIæ¨¡å‹è°ƒç”¨ä½¿ç”¨å¼‚æ­¥æ¥å£ï¼Œæå‡å“åº”æ€§èƒ½

### ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ
- **é…ç½®åˆ†ç¦»**: å¼€å‘é…ç½®(.local)ä¸å‘å¸ƒé…ç½®(.sample)å®Œå…¨åˆ†ç¦»
- **ç¯å¢ƒå˜é‡ä¼˜å…ˆ**: ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®APIå¯†é’¥
- **è‡ªåŠ¨æ‰«æ**: å‘å¸ƒå‰è¿è¡Œprepare_release.shè¿›è¡Œå®‰å…¨æ‰«æ
- **æ—¥å¿—è„±æ•**: ä½¿ç”¨mask_sensitive_data()å‡½æ•°å¤„ç†æ•æ„Ÿä¿¡æ¯
- **å®šæœŸå®¡è®¡**: æ£€æŸ¥é…ç½®æ–‡ä»¶å’Œæ—¥å¿—ï¼Œç¡®ä¿æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²

### æ—¥å¿—è®°å½• âœ…
```python
# AIå¢å¼ºåŠŸèƒ½çš„ç»“æ„åŒ–æ—¥å¿—
logger.info(
    "AIé¡µé¢åˆ†æå®Œæˆ",
    platform="manus",
    analysis_type="page_structure",
    elements_found=len(elements),
    confidence=analysis.confidence,
    processing_time=processing_time,
    model_provider="gemini",
    success=True,
    user_id=mask_user_id(user_id)  # æ•æ„Ÿä¿¡æ¯è„±æ•
)
```

### é…ç½®ç®¡ç† âœ…
- ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§æœ€é«˜ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- æœ¬åœ°é…ç½®æ–‡ä»¶(.local)ç”¨äºå¼€å‘ç¯å¢ƒ
- ç¤ºä¾‹é…ç½®æ–‡ä»¶(.sample)ç”¨äºGitHubå‘å¸ƒ
- é…ç½®éªŒè¯å’Œé»˜è®¤å€¼è®¾ç½®
- æ•æ„Ÿé…ç½®è‡ªåŠ¨åŠ å¯†å­˜å‚¨

### ç›‘æ§å‘Šè­¦ âœ…
- å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼ˆ/healthï¼‰- å½“å‰æ­£å¸¸è¿è¡Œ
- å›å½’æµ‹è¯•ç›‘æ§ï¼ˆå½“å‰81.8%æˆåŠŸç‡ï¼‰
- æ€§èƒ½æŒ‡æ ‡æ”¶é›†ï¼ˆPrometheusæ ¼å¼ï¼‰
- AIæ¨¡å‹è°ƒç”¨ç»Ÿè®¡å’ŒæˆåŠŸç‡ç›‘æ§
- å¼‚å¸¸æƒ…å†µå‘Šè­¦æœºåˆ¶ï¼ˆé€šè¿‡æ—¥å¿—å’Œæµ‹è¯•æŠ¥å‘Šï¼‰

## å¼€å‘å·¥ä½œæµ

### åˆ†æ”¯ç®¡ç† âœ…
- main: ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬ï¼ˆå½“å‰c4bef08ï¼‰
- develop: å¼€å‘åˆ†æ”¯
- feature/*: åŠŸèƒ½åˆ†æ”¯ï¼ˆå¦‚ feature/frontend-stability, feature/manus-deep-integrationï¼‰
- hotfix/*: ç´§æ€¥ä¿®å¤åˆ†æ”¯

### ğŸ”§ æäº¤è§„èŒƒ (v2.1.3)
```bash
# AIåŠŸèƒ½å¼€å‘
feat(ai): æ–°å¢æ™ºèƒ½é¡µé¢åˆ†æåŠŸèƒ½
feat(model): æ·»åŠ å¤šæä¾›å•†æ¨¡å‹åˆ‡æ¢æ”¯æŒ
feat(browser): å®ç°AIé©±åŠ¨çš„å…ƒç´ å®šä½ç­–ç•¥

# æµ‹è¯•å’Œè´¨é‡
test(regression): æ·»åŠ AIåŠŸèƒ½å›å½’æµ‹è¯•è¦†ç›–
fix(test): ä¿®å¤å‰ç«¯æœåŠ¡æµ‹è¯•è¿æ¥é—®é¢˜
perf(ai): ä¼˜åŒ–AIæ¨¡å‹è°ƒç”¨æ€§èƒ½å’Œç¼“å­˜æœºåˆ¶

# å®‰å…¨å’Œé…ç½®
security(config): å¼ºåŒ–APIå¯†é’¥ä¿æŠ¤æœºåˆ¶
feat(isolation): å®Œå–„å¼€å‘ä¸å‘å¸ƒæ–‡ä»¶éš”ç¦»
docs(security): æ›´æ–°å®‰å…¨é…ç½®æŒ‡å—

# å¹³å°é›†æˆ
feat(manus): æ·±åŒ–Manuså¹³å°AIå¢å¼ºé›†æˆ
feat(multi-platform): ä¼˜åŒ–è·¨å¹³å°ä»»åŠ¡ç®¡ç†
fix(chrome): ä¿®å¤æµè§ˆå™¨è¿æ¥ç¨³å®šæ€§é—®é¢˜
```

### ä»£ç å®¡æŸ¥è¦ç‚¹ âœ…
- **åŠŸèƒ½å®Œæ•´æ€§**: æ–°åŠŸèƒ½æ˜¯å¦å®Œæ•´å®ç°ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„æµ‹è¯•è¦†ç›–
- **AIé›†æˆè§„èŒƒ**: AIè°ƒç”¨æ˜¯å¦éµå¾ªç»Ÿä¸€æ¥å£ï¼Œæ˜¯å¦æœ‰é™çº§æ–¹æ¡ˆ
- **é”™è¯¯å¤„ç†**: å¼‚å¸¸å¤„ç†æ˜¯å¦å®Œå–„ï¼Œè¾¹ç•Œæ¡ä»¶æ˜¯å¦è€ƒè™‘
- **å®‰å…¨æ€§æ£€æŸ¥**: æ•æ„Ÿä¿¡æ¯æ˜¯å¦æ­£ç¡®å¤„ç†ï¼Œé…ç½®æ˜¯å¦å®‰å…¨
- **æµ‹è¯•è¦†ç›–**: å›å½’æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Œæ–°åŠŸèƒ½æ˜¯å¦æœ‰æµ‹è¯•é¡¹
- **æ€§èƒ½å½±å“**: å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“è¯„ä¼°
- **æ–‡æ¡£æ›´æ–°**: ç›¸å…³æ–‡æ¡£æ˜¯å¦åŒæ­¥æ›´æ–°

## ğŸ¯ ä¸‹ä¸€é˜¶æ®µå¼€å‘è®¡åˆ’

### Week 1-2: ç¨³å®šæ€§å’Œé›†æˆä¼˜åŒ–
- [ ] ä¿®å¤å‰ç«¯æœåŠ¡è¿æ¥é—®é¢˜ï¼Œç¡®ä¿100%æµ‹è¯•é€šè¿‡ç‡
- [ ] å®ŒæˆManuså¹³å°æ·±åº¦é›†æˆï¼Œå®ç°AIé©±åŠ¨çš„ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–
- [ ] ä¼˜åŒ–Chromeè¿æ¥æ¨¡å—ï¼Œå¢å¼ºç¨³å®šæ€§å’Œå¹¶å‘å¤„ç†

### Week 3-4: å¤šå¹³å°æ‰©å±•å’Œç”Ÿäº§ä¼˜åŒ–  
- [ ] æ‰©å±•Skyworkå’Œå…¶ä»–å¹³å°çš„AIå¢å¼ºé›†æˆ
- [ ] å®Œå–„Dockeréƒ¨ç½²å’Œç›‘æ§å‘Šè­¦ç³»ç»Ÿ
- [ ] å®ç°AIé©±åŠ¨çš„æ™ºèƒ½å‘½é¢˜ç”ŸæˆåŠŸèƒ½

### Week 5-8: ä¼ä¸šçº§åŠŸèƒ½å’Œé«˜çº§AI
- [ ] å¼€å‘ç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶ç³»ç»Ÿ
- [ ] å®ç°çŸ¥è¯†å›¾è°±å’Œå¤šæ­¥æ¨ç†åŠŸèƒ½
- [ ] äº‘ç«¯é›†æˆå’Œå¼¹æ€§æ‰©å±•æ”¯æŒ

---

æœ¬å¼€å‘è§„åˆ™åŸºäº AgentHub v2.1.3 åˆ¶å®šï¼Œå·²å®ŒæˆAIå¢å¼ºç³»ç»Ÿã€å›å½’æµ‹è¯•ç³»ç»Ÿå’Œå®‰å…¨æ–‡ä»¶éš”ç¦»æœºåˆ¶ã€‚å½“å‰é‡ç‚¹æ˜¯å‰ç«¯ç¨³å®šæ€§ä¼˜åŒ–å’Œå¤šå¹³å°æ·±åº¦é›†æˆï¼Œä¸ºä¼ä¸šçº§éƒ¨ç½²åšå¥½å‡†å¤‡ã€‚è¯·ç¡®ä¿å›¢é˜Ÿæˆå‘˜ç†Ÿæ‚‰å¹¶éµå¾ªè¿™äº›è§„èŒƒï¼Œç‰¹åˆ«æ˜¯AIé›†æˆã€å›å½’æµ‹è¯•å’Œå®‰å…¨å¼€å‘ç›¸å…³çš„æ ‡å‡†ã€‚ 